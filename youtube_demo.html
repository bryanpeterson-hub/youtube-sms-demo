<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube TV Demo</title>
    <style>
        /* --- Basic Setup --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 50px;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* --- Hidden Hotspots --- */
        .hidden-hotspot {
            width: 100%;
            height: 100px;
            cursor: pointer;
            /* Uncomment the line below to see the hotspot area during testing */
            /* border: 2px dashed red; */
        }
        
        #hotspot-top {
            display: none; /* Hidden until the right step */
            /* Uncomment the line below to see the hotspot area during testing */
            /* border: 2px dashed blue; */
        }

        /* --- Mobile Device Frame (Pixel) --- */
        .mobile-frame {
            width: 390px;
            height: 844px;
            background-color: #111;
            border-radius: 40px;
            border: 10px solid #111;
            box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);
            position: relative;
            overflow: hidden;
        }

        /* --- The Screen --- */
        .screen {
            width: 100%;
            height: 100%;
            background-color: #fff;
            overflow: hidden;
            position: relative;
        }

        /* --- Screen Content --- */
        .screen-content {
            display: none; /* Hide all screens by default */
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            flex-direction: column;
        }

        .screen-content.active {
            display: flex;
        }

        /* --- 1. Lock Screen --- */
        #lock-screen-initial,
        #lock-screen-notification {
            background: url('https://images.unsplash.com/photo-1610269562817-46c0d5c0731f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80') no-repeat center center;
            background-size: cover;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .lock-screen-overlay {
            background: rgba(0,0,0,0.1);
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 70px 30px;
        }

        .lock-time {
            font-size: 80px;
            font-weight: 300;
            margin-bottom: 0;
        }

        .lock-date {
            font-size: 18px;
            font-weight: 400;
            margin-top: -10px;
        }

        .lock-prompt {
            position: absolute;
            bottom: 50px;
            font-size: 14px;
            font-weight: 500;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
        }

        /* --- 2. Notification --- */
        .notification {
            width: 90%;
            background: rgba(255, 255, 255, 0.9);
            color: #111;
            text-shadow: none;
            border-radius: 20px;
            padding: 12px 16px;
            margin-top: 50px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .notification-header {
            font-size: 12px;
            font-weight: 700;
            color: #333;
            display: flex;
            align-items: center;
        }
        
        .notification-header img {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .notification-body {
            font-size: 14px;
            font-weight: 500;
            margin-top: 4px;
            /* Truncate text */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* --- 3. Messages App --- */
        #messages-app {
            background-color: #f7f9fc;
        }

        .messages-header {
            background-color: #f7f9fc;
            padding: 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            padding-top: 50px; /* Status bar spacing */
        }
        
        .messages-header .avatar {
            width: 36px;
            height: 36px;
            background-color: #1a73e8;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
            margin-left: 16px;
            margin-right: 12px;
        }
        
        .messages-header .contact-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            display: flex;
            flex-direction: column;
        }

        .message-bubble {
            padding: 12px 18px;
            border-radius: 24px;
            margin-bottom: 8px;
            max-width: 80%;
            font-size: 15px;
            line-height: 1.4;
            display: block;
            width: -moz-fit-content;
            width: fit-content;
        }

        .agent {
            background-color: #e8eaed;
            color: #202124;
            border-top-left-radius: 4px;
            align-self: flex-start;
        }

        .user {
            background-color: #1a73e8;
            color: white;
            border-top-right-radius: 4px;
            align-self: flex-end;
        }
        
        .typing-indicator {
            display: none;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .typing-indicator .dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin: 0 2px;
            animation: bounce 1.4s infinite;
        }
        
        .typing-indicator .dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator .dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

        .chat-input-area {
            display: flex;
            padding: 12px;
            background-color: #f7f9fc;
            border-top: 1px solid #e0e0e0;
        }

        #chat-input {
            flex: 1;
            border: none;
            background-color: #e8eaed;
            border-radius: 24px;
            padding: 12px 18px;
            font-size: 15px;
            outline: none;
        }

        #send-button {
            background-color: #1a73e8;
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            margin-left: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #send-button svg {
            width: 24px;
            height: 24px;
            fill: white;
            transform: translateX(1px);
        }
    </style>
</head>
<body>

    <div class="hidden-hotspot" id="hotspot-top" onclick="showHumanReply()"></div>

    <div class="mobile-frame">
        <div class="screen">

            <div class="screen-content active" id="lock-screen-initial">
                <div class="lock-screen-overlay">
                    <h1 class="lock-time" id="lock-time-1">10:08</h1>
                    <h2 class="lock-date" id="lock-date-1">Tue, Nov 18</h2>
                    <div class="lock-prompt">Swipe up to unlock</div>
                </div>
            </div>

            <div class="screen-content" id="lock-screen-notification" onclick="openMessages()">
                <div class="lock-screen-overlay">
                    <h1 class="lock-time" id="lock-time-2">10:08</h1>
                    <h2 class="lock-date" id="lock-date-2">Tue, Nov 18</h2>

                    <div class="notification">
                        <div class="notification-header">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg" alt="YT">
                            YouTube TV &bull; Now
                        </div>
                        <div class="notification-body">
                            Hey Alex! Big news! üèà Don't just watch...
                        </div>
                    </div>

                    <div class="lock-prompt">Swipe up to unlock</div>
                </div>
            </div>

            <div class="screen-content" id="messages-app">
                <div class="messages-header">
                    <div class="avatar">Y</div>
                    <div class="contact-name">YouTube TV</div>
                </div>

                <div class="chat-container" id="chat-container">
                    <div class="typing-indicator" id="typing-indicator">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>

                <form class="chat-input-area" id="chat-form">
                    <input type="text" id="chat-input" placeholder="Text message" autocomplete="off">
                    <button type="submit" id="send-button">
                        <svg viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                    </button>
                </form>
            </div>

        </div>
    </div>

    <div class="hidden-hotspot" id="hotspot-bottom" onclick="showNotification()"></div>

    <script>
        // --- DOM Elements ---
        const hotspotTop = document.getElementById('hotspot-top');
        const hotspotBottom = document.getElementById('hotspot-bottom');
        
        const lockScreenInitial = document.getElementById('lock-screen-initial');
        const lockScreenNotification = document.getElementById('lock-screen-notification');
        const messagesApp = document.getElementById('messages-app');
        
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatContainer = document.getElementById('chat-container');
        const typingIndicator = document.getElementById('typing-indicator');

        // --- State ---
        let chatState = 0; // Controls the flow of the conversation

        // --- Utility Functions ---
        function showScreen(screen) {
            document.querySelectorAll('.screen-content').forEach(s => s.classList.remove('active'));
            screen.classList.add('active');
        }
        
        function addMessage(message, sender) {
            const bubble = document.createElement('div');
            bubble.className = `message-bubble ${sender}`;
            bubble.innerHTML = message; // Use innerHTML to render üèà emoji
            
            // Insert before the typing indicator
            chatContainer.insertBefore(bubble, typingIndicator);
            
            // Scroll to bottom
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTyping() {
            typingIndicator.style.display = 'flex';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        function hideTyping() {
            typingIndicator.style.display = 'none';
        }

        // --- Demo Flow Functions ---

        // 1. Click Bottom Hotspot -> Show Notification
        function showNotification() {
            if (chatState === 0) {
                showScreen(lockScreenNotification);
                chatState = 1;
            }
        }

        // 2. Click Notification -> Open Messages
        function openMessages() {
            if (chatState === 1) {
                showScreen(messagesApp);
                // Add first marketing message
                setTimeout(() => {
                    addMessage(
                        "Hey Alex! Big news! üèà Don't just watch the highlights‚Äîget *every game, every Sunday* with NFL Sunday Ticket. It's awesome! Reply 'ADD' to get in on the action or 'HELP' if you have questions.",
                        "agent"
                    );
                    chatState = 2; // Ready for user's first reply
                }, 500); // 0.5s delay to simulate loading
            }
        }

        // 3. User Clicks Send
        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userText = chatInput.value;
            if (!userText) return; // Don't send empty messages

            addMessage(userText, 'user');
            chatInput.value = '';

            // --- State Machine for Replies ---
            
            // User sent first message ("in-market games?")
            if (chatState === 2) {
                chatState = 3; // Prevents double-sends
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(
                        "Awesome question! You're all set for local games‚Äîthose are already part of your YouTube TV plan. NFL Sunday Ticket is the key to unlocking *all* the out-of-market Sunday games. It's basically every NFL fan's dream!",
                        "agent"
                    );
                    chatState = 4; // Ready for user's second reply
                }, 1500); // 1.5s delay
            }
            // User sent second message ("brother in college?")
            else if (chatState === 4) {
                chatState = 5; // Prevents double-sends
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(
                        "Gotcha! That's about family sharing, which can get specific. I'm going to connect you with one of our human team members who can check your account details and get you the *perfect* answer. Hang tight, they'll be right with you in this chat!",
                        "agent"
                    );
                    chatState = 6; // Ready for human agent
                    hotspotTop.style.display = 'block'; // Show the top hotspot
                }, 1500); // 1.5s delay
            }
        });

        // 4. Click Top Hotspot -> Show Human Agent Reply
        function showHumanReply() {
            if (chatState === 6) {
                chatState = 7; // Demo complete
                hotspotTop.style.display = 'none'; // Hide hotspot after use
                
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(
                        "Hey Alex! Sarah here. I see your question about sharing. Great news‚Äîyou can create a Google Family Group and share your YouTube TV (including Sunday Ticket) with up to 5 family members. Can I get that Sunday Ticket added for you right now so you're all set for kickoff?",
                        "agent"
                    );
                }, 1500); // 1.5s delay
            }
        }
        
        // --- Set current time on lock screens ---
        const now = new Date();
        const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false });
        const date = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric' });
        
        document.getElementById('lock-time-1').innerText = time;
        document.getElementById('lock-date-1').innerText = date;
        document.getElementById('lock-time-2').innerText = time;
        document.getElementById('lock-date-2').innerText = date;

    </script>
</body>
</html>
