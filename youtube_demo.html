<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube TV Demo</title>
    <style>
        /* --- Basic Setup --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-image: url('https://i.imgur.com/Fuu98EC.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 50px;
            min-height: 100vh;
            box-sizing: border-box;
            margin: 0; 
        }

        /* --- Hidden Hotspots --- */
        .hidden-hotspot {
            width: 100%;
            height: 100px;
            cursor: pointer;
            /* Uncomment the line below to see the hotspot area during testing */
            /* border: 2px dashed red; */
        }
        
        #hotspot-bottom {
            display: none; /* Hidden until the right step */
            /* Uncomment the line below to see the hotspot area during testing */
            /* border: 2px dashed blue; */
        }

        /* --- Mobile Device Frame (Pixel) --- */
        .mobile-frame {
            width: 390px;
            height: 804px;
            background-color: #111;
            border-radius: 40px;
            border: 10px solid #111;
            box-shadow: 0 19px 38px rgba(0,0,0,0.50), 0 15px 12px rgba(0,0,0,0.32);
            position: relative;
            overflow: hidden;
        }

        /* --- The Screen --- */
        .screen {
            width: 100%;
            height: 100%;
            background-color: #fff;
            overflow: hidden;
            position: relative;
        }

        /* --- Screen Content --- */
        .screen-content {
            display: none; 
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            flex-direction: column;
        }

        .screen-content.active {
            display: flex;
        }

        /* --- 1. Lock Screen --- */
        #lock-screen-initial,
        #lock-screen-notification {
            background-color: #212121;
            color: white;
        }
        
        .lock-screen-overlay {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 70px 30px;
            position: relative;
            box-sizing: border-box;
        }

        .lock-time {
            font-size: 80px;
            font-weight: 300;
            margin-bottom: 0;
            color: #ffffff;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .lock-date {
            font-size: 18px;
            font-weight: 500;
            color: #ffffff;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
            text-transform: uppercase;
            margin-top: 4px;
        }

        .lock-weather {
            display: flex;
            align-items: center;
            color: #ffffff;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
            font-size: 16px;
            font-weight: 500;
            margin-top: 12px;
        }
        
        .lock-weather svg {
            width: 20px;
            height: 20px;
            fill: #ffffff;
            margin-right: 8px;
        }

        .lock-prompt {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            font-weight: 500;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            backdrop-filter: blur(5px);
        }

        /* --- 2. Notification --- */
        .notification-wrapper {
            width: 100%;
            padding-top: 50px; 
            display: flex;
            justify-content: center;
        }
        
        .notification {
            width: 90%;
            background: rgba(255, 255, 255, 0.9);
            color: #111;
            text-shadow: none;
            border-radius: 20px;
            padding: 12px 16px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .notification-header {
            font-size: 12px;
            font-weight: 700;
            color: #333;
            display: flex;
            align-items: center;
        }
        
        .notification-avatar {
            width: 20px;
            height: 20px;
            background-color: #FF0033;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 9px;
            margin-right: 8px;
        }

        .notification-body {
            font-size: 14px;
            font-weight: 500;
            margin-top: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* --- 3. Messages App --- */
        #messages-app {
            background-color: #f7f9fc;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px 10px 20px;
            height: 22px; 
            background-color: #f7f9fc;
            width: 100%;
            box-sizing: border-box;
            border-bottom: 1px solid #e0e0e0;
        }
        .status-bar-time {
            font-size: 14px;
            font-weight: 600;
            color: #000;
        }
        .status-bar-icons {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .status-bar-icons svg {
            width: 16px;
            height: 16px;
            fill: #000;
        }
        .battery-icon {
            position: relative;
            display: flex;
            align-items: center;
        }
        .battery-icon span {
            font-size: 12px;
            font-weight: 600;
            margin-left: 4px;
            color: #000;
        }

        .messages-header {
            background-color: #f7f9fc;
            padding: 20px;
            display: flex;
            align-items: center;
            position: sticky;
            top: 0;
        }
        
        .messages-header .avatar {
            width: 36px;
            height: 36px;
            background-color: #FF0033;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px; 
            margin-left: 16px;
            margin-right: 12px;
        }
        
        .messages-header .contact-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            display: flex;
            flex-direction: column;
        }

        .message-bubble {
            padding: 12px 18px;
            border-radius: 24px;
            margin-bottom: 8px;
            max-width: 80%;
            font-size: 15px;
            line-height: 1.4;
            display: block;
            width: -moz-fit-content;
            width: fit-content;
        }
        
        /* Ensures links inside chat bubbles are readable */
        .message-bubble a {
            color: #fff; 
            text-decoration: underline;
        }
        .agent a {
            color: #1a73e8; /* Standard blue link in non-user bubble */
        }


        .agent {
            background-color: #e8eaed;
            color: #202124;
            border-top-left-radius: 4px;
            align-self: flex-start;
        }

        .user {
            background-color: #1a73e8;
            color: white;
            border-top-right-radius: 4px;
            align-self: flex-end;
        }
        
        .typing-indicator {
            display: none;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .typing-indicator .dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin: 0 2px;
            animation: bounce 1.4s infinite;
        }
        
        .typing-indicator .dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator .dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

        .chat-input-area {
            display: flex;
            padding: 12px;
            background-color: #f7f9fc;
            border-top: 1px solid #e0e0e0;
        }

        #chat-input {
            flex: 1;
            border: none;
            background-color: #e8eaed;
            border-radius: 24px;
            padding: 12px 18px;
            font-size: 15px;
            outline: none;
        }

        #send-button {
            background-color: #1a73e8;
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            margin-left: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #send-button svg {
            width: 24px;
            height: 24px;
            fill: white;
            transform: translateX(1px);
        }
    </style>
</head>
<body>

    <div class="hidden-hotspot" id="hotspot-top" onclick="showNotification()"></div>

    <div class="mobile-frame">
        <div class="screen">

            <div class="screen-content active" id="lock-screen-initial">
                <div class="lock-screen-overlay">
                    <h1 class="lock-time" id="lock-time-initial">04 50</h1>
                    <h2 class="lock-date" id="lock-date-initial">SUN, NOV 16</h2>
                    <div class="lock-weather">
                        <svg viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm0-10c-0.55 0-1 0.45-1 1v1c0 0.55 0.45 1 1 1s1-0.45 1-1v-1c0-0.55-0.45-1-1-1zM12 19c-0.55 0-1 0.45-1 1v1c0 0.55 0.45 1 1 1s1-0.45 1-1v-1c0-0.55-0.45-1-1-1zM5.64 6.64c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM17.3 18.36c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM19.36 5.64c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM6.7 18.36c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM4 11c-0.55 0-1 0.45-1 1s0.45 1 1 1h1c0.55 0 1-0.45 1-1s-0.45-1-1-1h-1zM19 11c-0.55 0-1 0.45-1 1s0.45 1 1 1h1c0.55 0 1-0.45 1-1s-0.45-1-1-1h-1z"></path></svg>
                        57&deg;F
                    </div>
                    <div class="lock-prompt">Swipe up to unlock</div>
                </div>
            </div>

            <div class="screen-content" id="lock-screen-notification" onclick="openMessages()">
                <div class="lock-screen-overlay">
                    <h1 class="lock-time" id="lock-time-notify">04 50</h1>
                    <h2 class="lock-date" id="lock-date-notify">SUN, NOV 16</h2>
                    <div class="lock-weather">
                        <svg viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm0-10c-0.55 0-1 0.45-1 1v1c0 0.55 0.45 1 1 1s1-0.45 1-1v-1c0-0.55-0.45-1-1-1zM12 19c-0.55 0-1 0.45-1 1v1c0 0.55 0.45 1 1 1s1-0.45 1-1v-1c0-0.55-0.45-1-1-1zM5.64 6.64c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM17.3 18.36c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM19.36 5.64c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM6.7 18.36c-0.39-0.39-1.02-0.39-1.41 0s-0.39 1.02 0 1.41l1.06 1.06c0.39 0.39 1.02 0.39 1.41 0s0.39-1.02 0-1.41l-1.06-1.06zM4 11c-0.55 0-1 0.45-1 1s0.45 1 1 1h1c0.55 0 1-0.45 1-1s-0.45-1-1-1h-1zM19 11c-0.55 0-1 0.45-1 1s0.45 1 1 1h1c0.55 0 1-0.45 1-1s-0.45-1-1-1h-1z"></path></svg>
                        57&deg;F
                    </div>
                    
                    <div class="notification-wrapper">
                        <div class="notification">
                            <div class="notification-header">
                                <div class="notification-avatar">YT</div>
                                YouTube TV &bull; Now
                            </div>
                            <div class="notification-body">
                                Hey Alex! Big news! üèà Don't just watch...
                            </div>
                        </div>
                    </div>

                    <div class="lock-prompt">Swipe up to unlock</div>
                </div>
            </div>

            <div class="screen-content" id="messages-app">
                
                <div class="status-bar">
                    <span class="status-bar-time" id="status-bar-time">4:50 PM</span>
                    <div class="status-bar-icons">
                        <svg viewBox="0 0 24 24"><path d="M2 22h20V2z M17 7L2 22h15z"/></svg>
                        <svg viewBox="0 0 24 24"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C18.91 4.91 5.09 4.91 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C16.14 8.14 7.86 8.14 5 13z"/></svg>
                        <div class="battery-icon">
                            <svg viewBox="0 0 24 24"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V21.66C7 22.39 7.6 23 8.33 23h7.33C16.4 23 17 22.39 17 21.66V5.33C17 4.6 16.4 4 15.67 4zM15 21H9v-5h6v5zM15 14H9V5.33h6V14z"/></svg>
                            <span>81%</span>
                        </div>
                    </div>
                </div>

                <div class="messages-header">
                    <div class="avatar">YT</div>
                    <div class="contact-name">YouTube TV</div>
                </div>

                <div class="chat-container" id="chat-container">
                    <div class="typing-indicator" id="typing-indicator">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>

                <form class="chat-input-area" id="chat-form">
                    <input type="text" id="chat-input" placeholder="Text message" autocomplete="off">
                    <button type="submit" id="send-button">
                        <svg viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                    </button>
                </form>
            </div>

        </div>
    </div>

    <div class="hidden-hotspot" id="hotspot-bottom" onclick="showHumanReply()"></div>

    <script>
        // --- DOM Elements ---
        const hotspotTop = document.getElementById('hotspot-top');
        const hotspotBottom = document.getElementById('hotspot-bottom');
        
        const lockScreenInitial = document.getElementById('lock-screen-initial');
        const lockScreenNotification = document.getElementById('lock-screen-notification');
        const messagesApp = document.getElementById('messages-app');
        
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatContainer = document.getElementById('chat-container');
        const typingIndicator = document.getElementById('typing-indicator');
        
        const statusBarTimeEl = document.getElementById('status-bar-time');
        const lockTimeInitialEl = document.getElementById('lock-time-initial');
        const lockDateInitialEl = document.getElementById('lock-date-initial');
        const lockTimeNotifyEl = document.getElementById('lock-time-notify');
        const lockDateNotifyEl = document.getElementById('lock-date-notify');

        // --- State ---
        // chatState: 0=Initial, 1=NotificationShown, 2=InitialMessage, 4=After Agent Reply 1 (Games), 5=After Agent Reply 2 (Escalation)
        // New States: 6=After Sarah's reply, 8=After Agent Confirmation, 10=After Music Upsell
        let chatState = 0; 

        // --- Utility Functions ---
        function showScreen(screen) {
            document.querySelectorAll('.screen-content').forEach(s => s.classList.remove('active'));
            screen.classList.add('active');
        }
        
        function addMessage(message, sender) {
            const bubble = document.createElement('div');
            bubble.className = `message-bubble ${sender}`;
            bubble.innerHTML = message; 
            chatContainer.insertBefore(bubble, typingIndicator);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTyping() {
            typingIndicator.style.display = 'flex';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        function hideTyping() {
            typingIndicator.style.display = 'none';
        }
        
        function updateAllClocks() {
            const now = new Date();
            
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const lockTimeString = `${hours} ${minutes}`;
            
            const dateOptions = { weekday: 'short', month: 'short', day: 'numeric' };
            const lockDateString = now.toLocaleDateString('en-US', dateOptions).toUpperCase();
            
            const statusBarTimeString = now.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });

            if (lockTimeInitialEl) lockTimeInitialEl.innerText = lockTimeString;
            if (lockDateInitialEl) lockDateInitialEl.innerText = lockDateString;
            if (lockTimeNotifyEl) lockTimeNotifyEl.innerText = lockTimeString;
            if (lockDateNotifyEl) lockDateNotifyEl.innerText = lockDateString;
            if (statusBarTimeEl) statusBarTimeEl.innerText = statusBarTimeString;
        }

        // --- Demo Flow Functions ---

        // 1. Click Top Hotspot -> Show Notification (HOTSPOT 1)
        function showNotification() {
            if (chatState === 0) {
                showScreen(lockScreenNotification);
                chatState = 1;
            }
        }

        // 2. Click Notification -> Open Messages
        function openMessages() {
            if (chatState === 1) {
                showScreen(messagesApp);
                updateAllClocks();
                
                setTimeout(() => {
                    addMessage(
                        "Hey Alex! Big news! üèà Don't just watch the highlights‚Äîget *every game, every Sunday* with NFL Sunday Ticket. It's awesome! Reply 'ADD' to get in on the action or 'HELP' if you have questions.",
                        "agent"
                    );
                    chatState = 2; // Ready for user's first reply (in-market games)
                }, 500); // 0.5s delay to simulate loading
            }
        }

        // 3. Hotspot Click -> Show Human Agent Reply (Sarah)
        function showHumanReply() {
            if (chatState === 5) { // After AI escalation
                hotspotBottom.style.display = 'none';
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(
                        "Hey Alex! Sarah here. I see your question about sharing. Great news‚Äîyou can create a Google Family Group and share your YouTube TV (including Sunday Ticket) with up to 5 family members. Can I get that Sunday Ticket added for you right now so you're all set for kickoff?",
                        "agent"
                    );
                    chatState = 6; // READY for Alex's acceptance/purchase confirmation
                }, 1500);
            }
        }

        // 4. User Clicks Send (The main state machine)
        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userText = chatInput.value;
            if (!userText) return; 

            addMessage(userText, 'user');
            chatInput.value = '';
            
            // State 2: User asks about in-market games
            if (chatState === 2) {
                chatState = 3; 
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(
                        "Awesome question! You're all set for local games‚Äîthose are already part of your YouTube TV plan. NFL Sunday Ticket is the key to unlocking *all* the out-of-market Sunday games. It's basically every NFL fan's dream!",
                        "agent"
                    );
                    chatState = 4; // Ready for user's second reply (college dorm question)
                }, 1500); 
            }
            // State 4: User asks complex question (college dorm sharing)
            else if (chatState === 4) {
                chatState = 5; 
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(
                        "Gotcha! That's about family sharing, which can get specific. I'm going to connect you with one of our human team members who can check your account details and get you the *perfect* answer. Hang tight, they'll be right with you in this chat!",
                        "agent"
                    );
                    // chatState remains 5, waiting for Hotspot (Sarah) to click
                }, 1500); 
            }
            // State 6: User accepts purchase (YES, OK, etc.)
            else if (chatState === 6) {
                chatState = 7; 
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    // NEW AGENT MESSAGE 1: Confirmation
                    addMessage(
                        "You're all set. You now have access to NFL Sunday Ticket!",
                        "agent"
                    );
                    chatState = 8; // Ready for Alex's second post-purchase reply (Thanks)
                }, 1500); 
            }
            // State 8: User replies after confirmation (Thanks)
            else if (chatState === 8) {
                chatState = 9; 
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    // NEW AGENT MESSAGE 2: Music Upsell (with linked URL)
                    const musicUpsellMessage = "BTW, you're eligible for a promotional discount on YouTube Music Premium. You can add that here: <a href='https://music.youtube.com/music_premium' target='_blank'>https://goo.gl/MusicPremiumPromo</a>";
                    addMessage(musicUpsellMessage, "agent");
                    chatState = 10; // Demo complete
                    // Optionally hide the input field here
                }, 1500); 
            }
        });

        
        updateAllClocks();
        setInterval(updateAllClocks, 10000); 

    </script>
</body>
</html>
